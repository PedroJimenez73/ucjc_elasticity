<div id="page-container">
    <div class="container">
	    <h1>
            Presentation
        </h1>
        <div id="back-slide">
            <button id="btn-slide-back" onclick="navBackSlide()">&lt;</button>
            <div class="slide" style="left: 0">
                <p>
                    This is <b>perhaps the most important microeconomic concept</b> that you will come across in your initial studies of economics.
                </p>
                <p>
                    The key is to understand the formula for calculating the coefficient of price elasticity, the factors that affect elasticity and also why elasticity is important for businesses when setting their prices.
                </p>
            </div>
            <div class="slide"> 
                <p>The following are the learning objects for this content:</p>
                <ul>
                    <li>How shapes of supply and demand curves matter.</li>
                    <li>Sensitivity of the quantity demanded to price.</li>
                    <li>Sensitivity of the quantity supplied to price.</li>
                    <li>Effects of a sales tax.</li>
                </ul>
            </div>
            <button id="btn-slide-next" onclick="navNextSlide()">&gt;</button>
        </div>
    </div>
</div>
<script>
    /* Slide */
    var countSlide = 1;
    var btnSlideBack = document.getElementById('btn-slide-back');
    btnSlideBack.style.opacity = 0;
    btnSlideBack.style.pointerEvents = 'none';
    var btnSlideNext = document.getElementById('btn-slide-next');
    var backSlide = document.getElementById('back-slide');
    var slides = document.querySelectorAll('.slide');
    // var topHeightSlide = 0;

    // function calcHeight () {
    //     setTimeout(function(){
    //         slides.forEach(el => {
    //         console.log(el.offsetHeight);
    //             if (el.offsetHeight > topHeightSlide) {
    //                 topHeightSlide = el.offsetHeight;
    //             }
    //         });
    //         slides.forEach(el => {
    //             el.style.height = topHeightSlide + "px";
    //         });
    
    //         backSlide.style.height = (topHeightSlide + 40) + "px";
    //     },100)
    // }

    // window.onload = calcHeight();

    setTimeout(function(){
        var alturaB = backSlide.scrollHeight;
        for (i = 0; i <slides.length; i++){
            slides[i].style.height = (alturaB - 40) + "px";
        }
        backSlide.style.height = alturaB + 40 + "px";
        backSlide.style.opacity = 1;
    },500)

    function navNextSlide() {
        $('.slide:nth-child('+(countSlide+1)+')').animate({left:'-2000px','opacity':'0'},500);
        countSlide++;
        $('.slide:nth-child('+(countSlide+1)+')').animate({left:'0','opacity':'1'},700);
        updateSlideBtn ();
    }

    function navBackSlide() {
        $('.slide:nth-child('+(countSlide+1)+')').animate({left:'2000px','opacity':'0'},500);
        countSlide--;
        $('.slide:nth-child('+(countSlide+1)+')').animate({left:'0','opacity':'1'},700);
        updateSlideBtn ();
    }

    function updateSlideBtn () {
        if (countSlide === 1) {
            btnSlideBack.style.opacity = 0;
            btnSlideBack.style.pointerEvents = 'none';
        } else {
            btnSlideBack.style.opacity = 1;
            btnSlideBack.style.pointerEvents = 'auto';
        }
        if (countSlide === slides.length ) {
            btnSlideNext.style.opacity = 0;
            btnSlideNext.style.pointerEvents = 'none';
        } else {
            btnSlideNext.style.opacity = 1;
            btnSlideNext.style.pointerEvents = 'auto';
        }
    }
</script>